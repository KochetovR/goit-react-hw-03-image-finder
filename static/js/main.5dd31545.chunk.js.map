{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/services/imageFinder-api.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/imageFinder/ImageFinder.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","images","handleInputChange","e","value","currentTarget","toLowerCase","setState","handleSubmit","preventDefault","trim","props","onSubmit","reset","toast","error","className","styles","SearchForm","this","type","SearchForm__button","SearchForm__button__label","onChange","SearchForm__input","placeholder","Component","fetchImages","req","fetch","then","res","json","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","url","tags","Overlay","onClick","src","alt","LoaderComponent","color","height","width","timeout","ImageGalleryItem","map","image","largeImageURL","webformatURL","ImageGalleryItem__image","id","Button","KEY","URL","page","ImageGallery","loading","urlImage","tagsImage","showModal","status","handleClickLoadMore","prevState","hits","finally","scrollPage","handleClickItem","closeModal","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevReq","nextReq","imageFinderAPI","length","Loader","warning","ImageFinder","formSubmitHandle","data","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5dd31545.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1QVSO\",\"Modal\":\"Modal_Modal__1JdvJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__33Ee2\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__AJxXX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__5ppDY\",\"warning\":\"ImageGallery_warning__1-b_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1VO6P\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport styles from './Searchbar.module.css'\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    images: '',\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    const value = e.currentTarget.value.toLowerCase();\r\n\r\n    this.setState({ images: value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.images.trim() === '') {\r\n      toast.error('Enter a valid search');\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state);\r\n\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ images: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchForm__button}>\r\n            <span className={styles.SearchForm__button__label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.images}\r\n            onChange={this.handleInputChange}\r\n            className={styles.SearchForm__input}\r\n            type=\"text\"\r\n            // autocomplete=\"off\"\r\n            // autofocus=\"true\"\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","const KEY = '21916161-6ae0745b5418f2e7bb34916ca';\r\nconst URL = 'https://pixabay.com/api/';\r\nlet page = 1;\r\n\r\nfunction fetchImages (req) {\r\n    return fetch(`${URL}?q=${req}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n    .then(res => res.json())\r\n};\r\n\r\nexport default { fetchImages }","import React, { Component } from 'react';\r\n\r\nimport styles from './Modal.module.css';\r\n\r\n\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const url = this.props.url;\r\n    const tags = this.props.tags\r\n\r\n    return (\r\n      \r\n      <div\r\n        className={styles.Overlay}\r\n        onClick={this.handleBackdropClick}\r\n      >\r\n        <div className={styles.Modal}>\r\n        <img src={url} alt={tags}/>\r\n        </div>\r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\nexport default Modal;","import Loader from \"react-loader-spinner\";\r\n\r\nconst LoaderComponent = () => (\r\n    <Loader type=\"Circles\" \r\n        color=\"#00BFFF\" \r\n        height={80} \r\n        width={80} \r\n        timeout={3000}\r\n    />\r\n\r\n)\r\n\r\nexport default LoaderComponent;\r\n\r\n","import React from 'react';\r\n\r\nimport styles from './ImageGalleryItem.module.css'\r\n\r\nconst ImageGalleryItem = ({images, onClick}) => (\r\n    <>\r\n    {images.map(image => (\r\n        <li onClick={() => onClick(image.largeImageURL, image.tags)} className={styles.ImageGalleryItem} key={image.id}>\r\n        <img src={image.webformatURL} alt={image.tags} className={styles.ImageGalleryItem__image} />\r\n    </li>\r\n    ))}\r\n    \r\n    </>\r\n);\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\n\r\nimport styles from './Button.module.css'\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import {Component} from 'react';\r\nimport imageFinderAPI from '../services/imageFinder-api'\r\nimport Modal from '../Modal/Modal';\r\nimport LoaderComponent from '../Loader/Loader';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\n\r\nimport styles from './ImageGallery.module.css'\r\n\r\n\r\n\r\nconst KEY = '21916161-6ae0745b5418f2e7bb34916ca';\r\nconst URL = 'https://pixabay.com/api/';\r\nlet page = 1;\r\n\r\n\r\n\r\nclass ImageGallery extends Component {\r\n    state = {\r\n        images: null,\r\n        loading: false,\r\n        urlImage: '',\r\n        tagsImage: '',\r\n        showModal: false,\r\n        status: 'idle'\r\n    }\r\n   \r\n    componentDidUpdate(prevProps, prevState) {\r\n        const prevReq = prevProps.images;\r\n        const nextReq = this.props.images;\r\n\r\n        if(prevReq !== nextReq) {\r\n            this.setState({status: 'pending'});\r\n\r\n            imageFinderAPI.fetchImages(nextReq)\r\n            .then(images => {\r\n                if(images.hits.length === 0) {\r\n                    return this.setState({status:'rejected'})\r\n                }\r\n                this.setState({images: images.hits, status:'resolved'})})\r\n            .finally(() => this.scrollPage())\r\n            };\r\n        }\r\n    \r\n\r\n    handleClickLoadMore = () => {\r\n        page += 1;\r\n\r\n        this.setState({status: 'pending'});\r\n        \r\n        fetch(`${URL}?q=${this.props.images}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n            .then(res => res.json())\r\n            .then(images => this.setState((prevState) => ({images: [...prevState.images, ...images.hits], status:'resolved'})))\r\n            .finally(() => this.scrollPage()) \r\n    }\r\n\r\n    handleClickItem = (largeImageURL, tags) => {\r\n        this.setState({urlImage: largeImageURL, tagsImage: tags, showModal: true})\r\n    };\r\n\r\n    closeModal = () => {\r\n        this.setState(({\r\n          showModal: false,\r\n        }));\r\n      };\r\n\r\n    scrollPage = () => {\r\n        window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: \"smooth\",\r\n          })\r\n      };\r\n\r\n    render() {\r\n        const {images, showModal, urlImage, tagsImage, status} = this.state;\r\n\r\n        if(status === 'idle') {\r\n            return <></>;\r\n        };\r\n\r\n        if(status === 'pending') {\r\n           return <LoaderComponent />;\r\n        };\r\n\r\n        if(status === 'rejected') {\r\n            return <h1 className={styles.warning}>Enter something else</h1>;\r\n        };\r\n\r\n        if(status === 'resolved') {\r\n            return (\r\n                <>\r\n                    <ul className={styles.ImageGallery}>\r\n                        {images && <ImageGalleryItem images={images} onClick={this.handleClickItem}/>}\r\n                    </ul>\r\n                    {images && <Button onClick={this.handleClickLoadMore}/>}\r\n\r\n                    {showModal && <Modal onClose={this.closeModal} url={urlImage} tags={tagsImage}/>}\r\n                </>\r\n            )\r\n        };\r\n    };\r\n};\r\nexport default ImageGallery;\r\n","import React, {Component} from 'react';\r\nimport {ToastContainer} from 'react-toastify';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\n\r\n\r\n\r\nclass ImageFinder extends Component {\r\n    state = {\r\n        images: '',\r\n    };\r\n\r\n    formSubmitHandle = data => {\r\n        const images = data.images\r\n        \r\n        this.setState({\r\n            images,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Searchbar onSubmit={this.formSubmitHandle}/>\r\n                <ToastContainer />\r\n                <ImageGallery images={this.state.images}/>\r\n            </>\r\n        )\r\n    }\r\n};\r\n\r\nexport default ImageFinder;\r\n","import React from \"react\";\nimport ImageFinder from \"./components\";\n\nimport './App.css';\n\nconst App = () => (\n  <>\n    <ImageFinder />\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2zlIz\",\"SearchForm\":\"Searchbar_SearchForm__1lu4R\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3oRw_\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__sAMag\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1_vrJ\"};"],"sourceRoot":""}